@import controllers.admin.AssessmentsController.{AbstractAssessmentFormData, AdHocAssessmentFormData}
@import views.html.admin.assessments.fields
@import domain.Department
@(form: Form[AdHocAssessmentFormData], departments: Seq[Department])(implicit context: RequestContext, request: RequestHeader, messages: MessagesProvider)
@defining(form.asInstanceOf[Form[AbstractAssessmentFormData]]) { implicit abstractForm =>
    @adminLayout(s"Create mock (non-SITS) assessment") {
        <p class="help-block">
            Creating an assessment here is intended for mock or practice exams.
            Assessments created here will not have an equivalent in SITS, so 'real' assessments should not be created here unless there is an emergency,
            i.e. an assessment which is about to start which does not appear in the list of scheduled assessments.
            If you create a real assessment here, you will be storing up problems when you later need to upload the marks from it to SITS.
        </p>

        @b3.vertical.formCSRF(action = controllers.admin.routes.AssessmentsController.save(), Symbol("enctype") -> "multipart/form-data") { implicit vfc =>
            @views.html.tags.formHasErrors(form)
            @views.html.tags.globalErrors(form)

            <div class="row">
                <div class="col-sm-6">
                    @fields.department(None, departments)
                    @fields.module(None)
                </div>
                <div class="col-sm-6">
                    @fields.paper(None)
                </div>
            </div>
            @fields.sequence(None)

            @fields.title()
            @fields.inviglators()
            @fields.assessmentType()
            @b3.datetimePicker(form("startTime"), Symbol("value") -> None, Symbol("_label") -> "Date")
            @fields.duration()
            @fields.description()
            @fields.url()
            @fields.upload(None)
            @fields.submit(None)
        }
    }
}
