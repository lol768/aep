@import domain.Assessment.Platform
@import domain.Sitting
@import tags._

@(sitting: Sitting, isAssessmentPage: Boolean = false)(implicit request: RequestHeader, context: RequestContext)
<div class="panel panel-default assessment-information-panel">
    @if(isAssessmentPage) {
        <div class="brand-stripe"></div>
    }
    <div class="panel-body">
        @if(!isAssessmentPage) {
            <h4>
                @if(sitting.finalised) {
                    <i class="fad themed-duotone fa-check fa-fw"></i>
                }
                @sitting.assessment.title
            </h4>
        }

        @studentAssessmentMetadata(sitting)

        @if(isAssessmentPage) {
            @b3.vertical.formCSRF(controllers.routes.AssessmentController.start(sitting.assessment.id)) { implicit fc =>
                @if(sitting.studentAssessment.startTime.isEmpty) {
                    <button type="submit" class="btn btn-primary" id="startAssessment">
                        Start
                    </button>
                } else if (!sitting.assessment.platform.contains(Platform.OnlineExams)) {
                    <button disabled="disabled" class="btn btn-default">Started</button>
                }
                @assessmentTiming(sitting)
            }
        } else {
            <a href="@routes.AssessmentController.view(sitting.assessment.id)" class="btn btn-primary">
                View
            </a>
            @assessmentTiming(sitting)
        }
    </div>
</div>
